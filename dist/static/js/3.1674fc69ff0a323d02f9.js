webpackJsonp([3],{"80CX":function(t,e){},uIJe:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i=a("mtWM"),s=a.n(i),o=a("4Thl");s.a.defaults.timeout=5e3,s.a.defaults.withCredentials=!0,s.a.defaults.headers.post["Content-Type"]="application/json; charset=utf-8",n.default.prototype.$ajax=s.a;var l={name:"change-bank-card",data:function(){return{active:1,nextText:"下一步",tableData:[{mingcheng:"",daima:"",bianhao:"",dengjihao:"",faren:"",shenfenzheng:""}],input1:"",input2:"",input3:"",input4:"",value:"",AcctInfo:"",bankList:""}},created:function(){this.getBankList(),this.AcctInfo=JSON.parse(sessionStorage.getItem("AcctInfo")),this.input1=this.AcctInfo.depositAcct,this.input2=this.AcctInfo.subAcct,this.input3=this.AcctInfo.businessTypeMsg,this.tableData[0].mingcheng=this.AcctInfo.orgName,this.tableData[0].daima=this.AcctInfo.certNo,this.tableData[0].bianhao=this.AcctInfo.busiLiceNo,this.tableData[0].dengjihao=this.AcctInfo.taxNo,this.tableData[0].faren=this.AcctInfo.legalName,this.tableData[0].shenfenzheng=this.AcctInfo.legalCertNo},methods:{next:function(){this.active++,2===this.active?this.nextText="上一步":this.active>2&&(this.active=1,this.nextText="下一步")},getNowFormatDate:function(){var t=new Date,e=t.getMonth()+1,a=t.getDate();return e>=1&&e<=9&&(e="0"+e),a>=0&&a<=9&&(a="0"+a),t.getFullYear()+"-"+e+"-"+a+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},getBankList:function(){var t=this,e=o.a.getBankList;this.$ajax.post(e,{appId:"org_crm_merchant",loginPhone:sessionStorage.getItem("phone"),recoCode:sessionStorage.getItem("recoCode"),reqTime:this.getNowFormatDate(),token:sessionStorage.getItem("token")}).then(function(e){0===e.data.code?t.bankList=e.data.data:alert(e.data.msg)})},nowChangeBank:function(){var t=o.a.updateBank;this.$ajax.post(t,{appId:"org_crm_merchant",loginPhone:sessionStorage.getItem("phone"),bankCardNo:this.value,recoCode:sessionStorage.getItem("recoCode"),reqTime:this.getNowFormatDate(),token:sessionStorage.getItem("token")}).then(function(t){0===t.data.code?location.href=t.data.data.jumpUrl:alert(t.data.msg)})}},watch:{value:function(t,e){var a=this;this.bankList.forEach(function(e,n){t===a.bankList[n].bankCardNo&&(a.input4=a.bankList[n].bankType)})}},computed:{},components:{}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"change-bank-card"},[a("div",[a("el-steps",{attrs:{active:t.active,"finish-status":"success","align-center":""}},[a("el-step",{attrs:{title:"填写银行卡信息"}}),t._v(" "),a("el-step",{attrs:{title:"变更银行卡"}}),t._v(" "),a("el-step",{attrs:{title:"完成"}})],1),t._v(" "),a("div",{staticClass:"tip"},[t._v("重要提示：银行卡变更后，请注意认证状态，以免影响后续放款和提现操作。")]),t._v(" "),a("el-row",{staticClass:"list"},[a("el-col",{attrs:{span:24}},[a("div",[t._v("\n          华夏存管账户："),a("el-input",{staticStyle:{width:"30%"},attrs:{disabled:!0,size:"medium",placeholder:"无"},model:{value:t.input1,callback:function(e){t.input1=e},expression:"input1"}})],1),t._v(" "),a("div",[t._v("\n          存管子帐号(蜡笔)："),a("el-input",{staticStyle:{width:"30%"},attrs:{disabled:!0,size:"medium",placeholder:"无"},model:{value:t.input2,callback:function(e){t.input2=e},expression:"input2"}})],1),t._v(" "),a("div",[t._v("\n          账户类型："),a("el-input",{staticStyle:{width:"30%"},attrs:{disabled:!0,size:"medium",placeholder:"无"},model:{value:t.input3,callback:function(e){t.input3=e},expression:"input3"}})],1),t._v(" "),a("div",[t._v("\n          银行卡号码："),a("el-select",{staticStyle:{width:"30%"},attrs:{placeholder:"请选择",disabled:2===t.active},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.bankList,function(t,e){return a("el-option",{key:e,attrs:{label:t.bankCardNo,value:t.bankCardNo}})}))],1),t._v(" "),a("div",[t._v("\n          开户行："),a("el-input",{staticStyle:{width:"30%"},attrs:{disabled:!0,size:"medium",placeholder:"无"},model:{value:t.input4,callback:function(e){t.input4=e},expression:"input4"}})],1)])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"mingcheng",label:"企业名称","show-overflow-tooltip":"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"daima",label:"组织机构代码","show-overflow-tooltip":"",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bianhao",label:"营业执照编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dengjihao",label:"税务登记号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"faren",label:"法人姓名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"shenfenzheng",label:"法人身份证号",align:"center"}})],1),t._v(" "),2===t.active?a("el-button",{staticStyle:{"margin-top":"30px"},attrs:{type:"primary"},on:{click:t.nowChangeBank}},[t._v("立即变更")]):t._e(),t._v(" "),a("el-button",{staticStyle:{"margin-top":"30px"},on:{click:t.next}},[t._v(t._s(t.nextText))])],1)])},staticRenderFns:[]};var r=a("VU/8")(l,c,!1,function(t){a("80CX")},"data-v-6a841e1a",null);e.default=r.exports}});
//# sourceMappingURL=3.1674fc69ff0a323d02f9.js.map